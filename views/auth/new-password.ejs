<%-include('../includes/head.ejs')%>
<%-include('../includes/nav.ejs')%>
<main class="pt-5">
  <div class="container p-5 d-flex flex-column align-items-center">
    <% if (errorMessage) { %>
      <p class="bg-danger text-white border border-5 rounded p-2 mb-3"><%=errorMessage%></p>
    <% } %>
    <form action="/new-password" method="POST">
      <div class="form-group">
        <label class="mb-2" for="password">New password</label>
        <input class="form-control mb-3 <%= errors.find(err => err.param === 'password') ? 'invalid' : '' %>" type="password" name="password" placeholder="Enter your new password" />
      </div>
      <button class="btn reset-btn">Reset password</button>
      <input type="hidden" name="userId" value="<%=userId%>">
      <input type="hidden" name="token" value="<%=token%>">
      <input type="hidden" name="_csrf" value="<%=csrfToken%>">
    </form>
  </div>
<%-include('../includes/end.ejs')%>