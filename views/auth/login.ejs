<%-include('../includes/head.ejs')%>
<%-include('../includes/nav.ejs')%>
<main class="pt-5">
  <div class="container p-5 d-flex flex-column align-items-center">
    <% if (errorMessage) { %>
      <p class="bg-danger text-white border border-5 rounded p-2 mb-3"><%=errorMessage%></p>
    <% } %>
    <form action="/login" method="POST">
      <div class="form-group">
        <label for="email">Email</label>
        <input class="form-control mb-3 <%= errors.find(err => err.param === 'email') ? 'invalid' : '' %>" type="email" name="email" placeholder="Enter your email" value="<%= hasError ? oldInput.email : '' %>" />
      </div>
      <div class="form-group">
        <label for="password">Password</label>
        <input class="form-control mb-3 <%= errors.find(err => err.param === 'password') ? 'invalid' : '' %>" type="password" name="password" placeholder="Enter your password" value="<%= hasError ? oldInput.password : '' %>" />
      </div>
      <button class="btn login-btn">Login</button>
      <a class="ms-3 reset-link" href="/reset-password">Reset password</a>
      <input type="hidden" name="_csrf" value="<%=csrfToken%>">
    </form>
  </div>
<%-include('../includes/end.ejs')%>